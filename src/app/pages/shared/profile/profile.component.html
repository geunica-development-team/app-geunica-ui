@if (userProfile) {
  <div class="profile-container">
    <!-- Header verde -->
    <div class="bg-success position-relative" style="height: 200px; border-radius: 0 0 20px 20px;">
      <!-- Avatar circular posicionado -->
      <div class="position-absolute start-50 translate-middle-x" style="bottom: -60px; z-index: 10;">
        <div class="bg-secondary rounded-circle border border-white border-4 d-flex align-items-center justify-content-center" 
             style="width: 120px; height: 120px;">
            <img 
            class="header-avatar"
            src="https://www.iconpacks.net/icons/2/free-user-icon-3297-thumb.png"
            alt="Perfil"
            >
        </div>
      </div>
    </div>
  
    <!-- Contenido principal -->
    <div class="profile-content">
      <div class="contaier">
        <!-- Información del usuario (nombre y DNI) -->
        <div class="row">
          <div class="col-12 text-center mb-5">
            <div class="user-info-header">
              <h2 class="user-name mb-2">{{ userProfile.person.names }} {{ userProfile.person.paternalSurname }} {{ userProfile.person.maternalSurname }}</h2>
              <p class="user-dni text-muted">{{ userProfile.person.documentNumber }}</p>
            </div>
          </div>
        </div>
  
        <!-- Grid de información -->
          <div class="row g-4">
          <!-- Información Básica -->
          <div class="col-lg-6 mb-4">
            <div class="info-section">
              <h5 class="section-title">
                <i class="fas fa-user me-2"></i>
                Información Básica
              </h5>
              <div class="info-grid">
                <div class="info-item">
                  <label>Nombre completo:</label>
                  <span>{{ userProfile.person.names }} {{ userProfile.person.paternalSurname }} {{ userProfile.person.maternalSurname }}</span>
                </div>
                <div class="info-item">
                  <label>DNI:</label>
                  <span>{{ userProfile.person.documentNumber }}</span>
                </div>
                <div class="info-item">
                  <label>Fecha de Nacimiento:</label>
                  <span>{{ userProfile.person.birthDate }}</span>
                </div>
                <div class="info-item">
                  <label>Género:</label>
                  <span>{{ userProfile.person.gender }}</span>
                </div>
              </div>
            </div>
          </div>
  
          <!-- Información de Contacto -->
          <div class="col-lg-6 mb-4">
            <div class="info-section">
              <h5 class="section-title">
                <i class="fas fa-address-book me-2"></i>
                Información de Contacto
              </h5>
              <div class="info-grid">
                <div class="info-item">
                  <label>Teléfono:</label>
                  <span>{{ userProfile.person.phoneNumber }}</span>
                </div>
                <div class="info-item">
                  <label>Dirección:</label>
                  <span>{{ userProfile.person.address }}</span>
                </div>
                <div class="info-item">
                  <label>Correo Electrónico:</label>
                  <span>{{ userProfile.person.email }}</span>
                </div>
              </div>
            </div>
          </div>
  
          <!-- Información Académica -->
          <div class="col-lg-6 mb-4">
            <div class="info-section">
              <h5 class="section-title">
                <i class="fas fa-graduation-cap me-2"></i>
                Información Académica
              </h5>
            <div class="info-grid">
                @if (userProfile.role.role === 'admin') {
                  <div class="info-item">
                    <label>Rol académico:</label>
                    <span> Administrador </span>
                  </div>
                  <div class="info-item">
                    <label>Sede/s asociada/s:</label>
                    <span>{{ userProfile.campus.name }}</span>
                  </div>
                }
                @if (userProfile.role.role === 'student') {
                  <div class="info-item">
                    <label>Rol académico:</label>
                    <span class=""> Estudiante </span>
                  </div>
                  <div class="info-item">
                    <label>Sede:</label>
                    <span>{{ userProfile.campus.name }}</span>
                  </div>
                  <!--
                  <div class="info-item">
                    <label>Código Estudiante:</label>
                    <span>{{ userProfile.academicInfo?.studentCode }}</span>
                  </div>
                  <div class="info-item">
                    <label>Fecha de Matrícula:</label>
                    <span>{{ userProfile.enrollmentDate }}</span>
                  </div>
                  <div class="info-item">
                    <label>Estado Académico:</label>
                    <span class="badge bg-success text-white">{{ userProfile.academicStatus }}</span>
                  </div>
                  -->
                }
              </div>
            </div>
          </div>
  
          <!-- Información de Usuario -->
          <div class="col-lg-6 mb-4">
            <div class="info-section">
              <h5 class="section-title">
                <i class="fas fa-key me-2"></i>
                Información de Usuario
              </h5>
              <div class="info-grid">
                <div class="info-item">
                  <label>Usuario:</label>
                  <span>{{ userProfile.user }}</span>
                </div>
                <div class="info-item">
                  <label>Contraseña:</label>
                  <button 
                    class="btn btn-outline-success btn-sm"
                    (click)="modalChangePassword.openModal()">
                    <i class="fas fa-edit me-1"></i>
                    Cambiar contraseña
                  </button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
} @else {
  <div class="text-center mt-5">
    <div class="spinner-border text-success" role="status">
      <span class="visually-hidden">Cargando...</span>
    </div>
  </div>
}

<app-modal-change-password
    #modalChangePassword
/>
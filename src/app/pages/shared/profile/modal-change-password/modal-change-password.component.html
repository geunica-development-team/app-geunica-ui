<ng-template #modalChangePassword let-modal>
  <div class="modal-header bg-white border-bottom px-4">
    <h4 class="modal-title fw-semibold text-dark mb-0">Cambiar contraseña</h4>
    <button 
      type="button" 
      class="btn-close" 
      aria-label="Close"
      (click)="onCancel()">
    </button>
  </div>
  
  <div class="modal-body bg-white p-4">
    <form [formGroup]="formChangePassword" (ngSubmit)="changePassword()" id="formChangePassword">
      <div class="mb-3">
        <label class="form-label fw-medium small">Contraseña actual</label>
        <input 
          type="text" 
          class="form-control bg-light rounded" 
          placeholder="Contraseña actual"
          name="currentPassword"
          formControlName="currentPassword"
          required>
      </div>
      <div class="mb-3">
        <label class="form-label fw-medium small">Nueva contraseña</label>
        <input 
          type="text" 
          class="form-control bg-light rounded" 
          placeholder="Nueva contraseña"
          name="newPassword"
          formControlName="newPassword"
          required>
          <span class="text-span-invalid" [hidden]="formChangePassword.get('newPassword')?.valid || formChangePassword.get('newPassword')?.untouched">
            <i class="fa-solid fa-circle-exclamation"></i> Tu contraseña no tiene los carácteres mínimos ( {{ formChangePassword.get('newPassword')?.value?.length }} /6 )
          </span>
      </div>
      <div class="mb-0">
        <label class="form-label fw-medium small">Confirmar nueva contraseña</label>
        <input 
          type="text" 
          class="form-control bg-light rounded" 
          placeholder="Confirmar nueva contraseña"
          name="confirmNewPassword"
          formControlName="confirmNewPassword"
          required>
          <span class="text-span-invalid" [hidden]="formChangePassword.get('confirmNewPassword')?.value === formChangePassword.get('newPassword')?.value">
            <i class="fa-solid fa-circle-exclamation"></i> Las contraseñas no coinciden
          </span>

      </div>
    </form>
  </div>
  <div class="modal-footer bg-white border-top d-flex justify-content-end gap-2 p-3">
    <button 
      type="button" 
      class="btn btn-secondary rounded px-4"
      (click)="onCancel()">
      Cancelar
    </button>
    <button 
      type="button" 
      class="btn btn-success rounded px-4"
      form="formChangePassword"
      (click)="changePassword()">
      Cambiar contraseña
    </button>
  </div>
</ng-template>
